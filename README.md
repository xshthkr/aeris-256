
# AERIS-256

A lightweight block cipher inspired by AES and Simon-Speck ciphers

## Features

- Block size: 64 bits
- Key size: 256 bits
- Feistel Network
- Keys derived from SHA256 hash of the password and salt
- Mode of operation: ECB
- Written in C with minimal dependencies (OpenSSL for SHA256)

Encryption/decryption speeds:

- 1MB: 0.006 seconds
- 5MB: 0.028 seconds
- 10MB: 0.03 seconds
- 100MB: 0.5 seconds

## Installation and Usage

Clone the repository and compile the source files

```bash
git clone https://github.com/xshthkr/aeris-256.git
cd aeris-256
make
```

The binary file will be in the `bin` directory.

To encrypt a file:

```bash
./cipher <filepath> enc <password>
```

To decrypt a file:

```bash
./cipher <filepath> dec <password>
```

The file paths should be relative to the binary executable. The binary can be added to `path` environment variables to be executed from any directory.

## How it works

AERIS-256 is a custom lightweight block cipher designed with inspiration from the **Simon** and **Speck** families of block ciphers, developed by the NSA for resource-constrained environments. The goal of AERIS-256 is to strike a balance between simplicity, efficiency, and security, while remaining comprehensible and implementable for personal and academic purposes.

### Design Overview

AERIS-256 operates on 64-bit blocks and uses a **Feistel network** structure. It takes a 256-bit key, expanded into multiple round keys, and performs several rounds of transformation on each plaintext block. At present, AERIS-256 uses **Electronic Codebook (ECB)** mode for simplicity, but it is designed to support **Cipher Block Chaining (CBC)** and **Counter (CTR)** modes in future revisions.

## Encryption Process

### 1. Input Handling

The cipher accepts raw input either as a file or a string. The data is loaded into a `uint8_t` buffer, which stores the input in bytes.

- **Padding**: The input buffer is padded so that its total length becomes an integral multiple of the block size (64 bits = 8 bytes). Padding ensures complete blocks for encryption.

- **Block Access**: The padded buffer is accessed as an array of 64-bit blocks by typecasting it to a `uint64_t*`. Each block is processed independently.

### 2. Key Derivation

A **256-bit master key** is derived by hashing a concatenation of the user-provided **password and salt** using **SHA-256**. This ensures strong entropy and user-specific keys.

```c
master_key = SHA256(password || salt);
```

### 3. Key Schedule

From the master key, round keys are generated by:

- Rotating the master key at fixed intervals.
- Selecting **8-byte (64-bit)** chunks to form the key for each round.
- This rotation provides diffusion and variation across rounds.

### 4. Feistel Network

Each 64-bit block is split into two **32-bit halves** (`left` and `right`).

The cipher runs for a configurable number of **rounds**, each consisting of the following operations:

```c
for each round:
    temp = left;
    left = right ^ f(left, round_key);
    right = temp;
```

Where:

- `f()` is a non-linear round function inspired by Simon’s and Speck’s structure (e.g., rotations, bitwise AND, XOR).
- `round_key` is selected from the key schedule.

The output after the final round is a pair of 32-bit halves, which are concatenated back into a 64-bit ciphertext block.

### Modes of Operation

Currently, AERIS-256 uses **ECB mode**, meaning each block is encrypted independently. While ECB simplifies implementation and testing, it is **not semantically secure** for real-world usage due to pattern leakage.

In future versions, the following modes are planned for integration:

- **CBC (Cipher Block Chaining)**: Introduces chaining by XORing each plaintext block with the previous ciphertext block.
- **CTR (Counter Mode)**: Converts the block cipher into a stream cipher, offering parallelization and improved performance.

## Conclusion

**AERIS-256** is a compact, understandable cipher that blends classical Feistel logic with a strong key derivation approach and block-wise encryption. While its current implementation is straightforward, it lays the foundation for more secure and flexible variants with advanced modes of operation.

## References

- NSA paper: [The Simon and Speck Families of Lightweight Block Ciphers](https://eprint.iacr.org/2013/404.pdf)
- NIST paper: [Advanced Encryption Standard (AES)](https://nvlpubs.nist.gov/nistpubs/FIPS/NIST.FIPS.197-upd1.pdf)
